2022/05/23 20:27:44 old leader connected again, leader1 2 , leader2 0
2022/05/23 20:27:44 Machine 2 is the leader, append the log in index 5, Term: 1
2022/05/23 20:27:44 machine 2 get the response of sendAppendEntriews from to 1 failed. Term: 1
2022/05/23 20:27:44 machine 2 receive the reply from 1 when sendAppendEntries, Status: false. Term: 1
2022/05/23 20:27:44 machine 2 get the response of sendAppendEntriews from to 0 failed. Term: 1
2022/05/23 20:27:44 machine 2 receive the reply from 0 when sendAppendEntries, Status: false. Term: 1
2022/05/23 20:27:44 machine 2 has nextIndex;[2 2 1], rf.commitIndex: 1. count:1,  Term: 1
2022/05/23 20:27:44 machine 2 finish sending the requests when SendAERpcs. Term: 1
2022/05/23 20:27:44 2 ticker send heartbeat. Term: 1
2022/05/23 20:27:44 machine 2 send the request to 0 when SendAERpcs. Term: 1
2022/05/23 20:27:44 machine 2 send the request to 1 when SendAERpcs. Term: 1
2022/05/23 20:27:44 Machine 2 think it is the leader and send the entris to the follower 0, the index of log is 1. Term: 1
2022/05/23 20:27:44 Machine 2 think it is the leader and send the entris to the follower 1, the index of log is 1. Term: 1
2022/05/23 20:27:44 machine 1 get the request from 2 when AppendEntries. Term: 2
2022/05/23 20:27:44 machine 1 get a lower term when AppendEntries, the request is not admitted. Term: 2
2022/05/23 20:27:44 machine 2 get the response of sendAppendEntriews from 1 success. Term: 1
2022/05/23 20:27:44 machine 2 receive the reply from 1 when sendAppendEntries, Status: true. Term: 1
2022/05/23 20:27:44 machine 2 get the response of sendAppendEntries from 1, but the term is 2, so it is not the leader. Term: 1
2022/05/23 20:27:44 2 become follower from leader. Term: 2
2022/05/23 20:27:44 machine 2 get the response of sendAppendEntriews from to 0 failed. Term: 2
2022/05/23 20:27:44 machine 2 receive the reply from 0 when sendAppendEntries, Status: false. Term: 2
2022/05/23 20:27:44 machine 2 has nextIndex;[2 2 1], rf.commitIndex: 1. count:1,  Term: 2
2022/05/23 20:27:44 machine 2 finish sending the requests when SendAERpcs. Term: 2
2022/05/23 20:27:45 Machine 2 has eletiontime: 2794. Term: 2

2022/05/23 20:27:47 Machine: 1, election happend timeout, timeout: 2627, role: follower. Term: 2
2022/05/23 20:27:47 1 become candidate from follower. Term: 2
2022/05/23 20:27:47 Machine 1 send request vote to 0. Term: 3
2022/05/23 20:27:47 Machine 1 send request vote to 2. Term: 3
2022/05/23 20:27:47 Machine 2 receive request vote from 1. Term: 2
2022/05/23 20:27:47 2 become follower from follower. Term: 3
2022/05/23 20:27:47 Machine 2 reject the request vote from 1 because log is not the same. Term: 3
2022/05/23 20:27:47 Machine 2 Vote info - args Term: 3, currentTerm : 3, args.LastLogTerm: 2, args.LastLogIndex:2, voteFor: -1, CandidateID1, vote: false, rf.logs:[{<nil> 0} {101 1} {102 1} {103 1} {104 1} {104 1}]
2022/05/23 20:27:47 Machine: 2 refresh the eletiontimeout. Term: 3
2022/05/23 20:27:47 Machine 2 has eletiontime: 2629. Term: 3
2022/05/23 20:27:47 Machine 1 get the reply when sendRequestVote from 2, Status: true. Term: 3
2022/05/23 20:27:47 Machine 1 get the reply when sendRequestVote from 0, Status: false. Term: 3
2022/05/23 20:27:47 Machine 1 has finished the election. Term: 3
2022/05/23 20:27:47 Machine 1 has eletiontime: 2989. Term: 3

2022/05/23 20:27:49 Machine: 2, election happend timeout, timeout: 2629, role: follower. Term: 3
2022/05/23 20:27:49 2 become candidate from follower. Term: 3
2022/05/23 20:27:49 Machine 2 send request vote to 0. Term: 4
2022/05/23 20:27:49 Machine 2 send request vote to 1. Term: 4
2022/05/23 20:27:49 Machine 1 receive request vote from 2. Term: 3
2022/05/23 20:27:49 1 become follower from candidate. Term: 4
2022/05/23 20:27:49 Machine 1 reject the request vote from 2 because log is not the same. Term: 4
2022/05/23 20:27:49 Machine 1 Vote info - args Term: 4, currentTerm : 4, args.LastLogTerm: 1, args.LastLogIndex:5, voteFor: -1, CandidateID2, vote: false, rf.logs:[{<nil> 0} {101 1} {103 2}]
2022/05/23 20:27:49 Machine: 1 refresh the eletiontimeout. Term: 4
2022/05/23 20:27:49 Machine 1 has eletiontime: 2872. Term: 4
2022/05/23 20:27:49 Machine 2 get the reply when sendRequestVote from 1, Status: true. Term: 4

2022/05/23 20:27:50 Machine 2 get the reply when sendRequestVote from 0, Status: false. Term: 4
2022/05/23 20:27:50 Machine 2 has finished the election. Term: 4
2022/05/23 20:27:50 Machine 2 has eletiontime: 2897. Term: 4
2022/05/23 20:27:52 Machine: 1, election happend timeout, timeout: 2872, role: follower. Term: 4
2022/05/23 20:27:52 1 become candidate from follower. Term: 4
2022/05/23 20:27:52 Machine 1 send request vote to 0. Term: 5
2022/05/23 20:27:52 Machine 1 send request vote to 2. Term: 5
2022/05/23 20:27:52 Machine 2 receive request vote from 1. Term: 4
2022/05/23 20:27:52 2 become follower from candidate. Term: 5
2022/05/23 20:27:52 Machine 2 reject the request vote from 1 because log is not the same. Term: 5
2022/05/23 20:27:52 Machine 2 Vote info - args Term: 5, currentTerm : 5, args.LastLogTerm: 2, args.LastLogIndex:2, voteFor: -1, CandidateID1, vote: false, rf.logs:[{<nil> 0} {101 1} {102 1} {103 1} {104 1} {104 1}]
2022/05/23 20:27:52 Machine: 2 refresh the eletiontimeout. Term: 5
2022/05/23 20:27:52 Machine 2 has eletiontime: 2819. Term: 5
2022/05/23 20:27:52 Machine 1 get the reply when sendRequestVote from 2, Status: true. Term: 5
2022/05/23 20:27:53 Machine 1 get the reply when sendRequestVote from 0, Status: false. Term: 5
2022/05/23 20:27:53 Machine 1 has finished the election. Term: 5
2022/05/23 20:27:53 Machine 1 has eletiontime: 2542. Term: 5




--- FAIL: TestRejoin2B (16.89s)
    config.go:552: one(104) failed to reach agreement
FAIL
exit status 1
FAIL	6.824/raft	17.247s
